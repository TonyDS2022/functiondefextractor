[![Build Status](https://travis-ci.com/philips-software/functiondefextractor.svg?branch=master)](https://travis-ci.com/philips-software/functiondefextractor)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![codecov](https://codecov.io/gh/philips-software/functiondefextractor/branch/master/graph/badge.svg)](https://codecov.io/gh/philips-software/functiondefextractor)


Function Definition Extractor
=============================

What is the project intended to solve?
-------------------------------------
Project will help to extract the function definitions from source or test code and report the extracted output
 in a data frame which can be further used for Similarity processing, Review, etc...

Dependencies
------------
`Python 3.8 ==> 64 bit package `

[packages]
**************
```
pip

mutmut

pytest

pandas

codecov

pytest-cov

pylint
```
[Third party tools]
******************
```
Ctags

grep
```
Installation
-----------
[INSTALL.md](INSTALL.md)

Usage & Configuration
--------------------
1. Install the tool using `pip install functiondefextractor`
2. To call from script
```
from functiondefextractor import core_extractor
out_put = core_extractor.extractor (r"path_to_repo/code")
print(out_put)
```

```
from functiondefextractor import core_extractor
out_put = core_extractor.extractor (r"path_to_repo/code")
# Default value of arguments are annot=None, delta=None
print(out_put)
```
3. To call from commandline
```
python -m functiondefextractor.extractor_cmd -h 
```
Note: 

1.To use annotation based search feature, input annot and delta parameters (For example annot = "@Test", delta = "5") 
  which returns a data frame containing + and - delta number of lines from the given annotation

2.An xlsx file is also generated as output in the same input location.

3.If annotation is known completely(Ex: @SuppressWarnings(unused)) user can extract methods with given annotation 
  with annotation based search feature by inputting annotation alone (don't give delta). 
  (For example annot = "@SuppressWarnings(unused)")

4.To use condition checker feature to analyse patterns present in the code, input the excel file generated by the 
  extractor(Ex: python -m functiondefextractor.extractor_cmd -p path/to/repo) and pattern condition. 
  (For example python -m functiondefextractor.extractor_cmd -e path/to/excelfile, "Assert") which returns a excel file 
  and pivot table html files which contain various assert patterns in the extracted code
```
from functiondefextractor import core_extractor
out_put = core_extractor.extractor (r"path_to_repo/code, annot="@Test", delta="5")
print(out_put)
```

How to test the software
-----------------------
1. To test the tool use : navigate to `functiondefextractor` which is the root directory
2. Issue `pytest -v` to run all the tests
To report the pytest in html: issue command `pytest --html=report.html`

To run test for coverage: `pytest --cov-report html --cov="src"`

pydoc creation `python -m pydoc -w module_name`

mutation testing using mutmut `mutmut run`

pylint execution on code `pylint src test >"path_to_save_file\pylint.txt"`

jscpd execution on root folder `jscpd --min-tokens 20 --reporters "html" --mode "strict" --format "python" --output . .`

Contact / Getting help
----------------------
[MAINTAINERS.md](MAINTAINERS.md)

License
--------
[License.md](License.md)
